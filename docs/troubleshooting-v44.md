# 🔧 Starian v4.4 트러블슈팅 가이드

## 🚨 일반적인 문제 및 해결 방법

### 1. 지침 관련 문제

#### 문제: "왜 갑자기 승인을 요청하나요?"
**증상**: 이전에는 바로 진행되던 작업에서 사용자 승인을 요청함

**원인**: v4.4 GuidelineEnforcer가 복잡하거나 위험한 작업을 감지

**해결방법**:
```
1. 정상적인 동작입니다 - v4.4의 안전 기능
2. 시스템 제안을 검토 후 승인 여부 결정
3. 단계별 진행을 원하지 않으면 오버라이드 사용

명령어: "지침 설명"으로 자세한 이유 확인 가능
```

#### 문제: "지침 준수율이 낮아요"
**증상**: `"준수율"` 확인 시 90% 미만으로 표시

**원인**: 
- 복잡한 작업을 승인 없이 요청
- 오버라이드를 과도하게 사용
- 시스템 제안을 무시하고 진행

**해결방법**:
```
1. "준수율" 명령어로 상세 분석 확인
2. 복잡한 작업 시 시스템 제안 수용
3. 작업을 단계별로 나누어 진행
4. 불필요한 오버라이드 사용 자제

목표: 90% 이상 유지
```

### 2. 오버라이드 관련 문제

#### 문제: "오버라이드가 승인되지 않아요"
**증상**: `STARIAN_OVERRIDE_AUTHORIZED` 사용해도 차단됨

**원인 및 해결**:
```
🔍 확인사항:
1. 키워드 정확성: "STARIAN_OVERRIDE_AUTHORIZED" 정확히 입력
2. 사유 명시: 구체적이고 타당한 사유 제시
3. 세션 제한: 이미 3회 사용했는지 확인
4. 시간 제한: 이전 오버라이드 후 10분 경과했는지 확인

해결방법:
- 더 구체적인 사유 제시
- 대안이 없음을 명확히 설명
- 시간이 지난 후 재시도
```

#### 문제: "오버라이드 후 이상하게 작동해요"
**증상**: 오버라이드 사용 후 예상과 다른 결과

**해결방법**:
```
1. 즉시 중단: "중단" 명령어 입력
2. 상태 확인: "상태" 명령어로 현재 상태 파악
3. 롤백 고려: 이전 상태로 복원 가능한지 확인
4. 정상 절차: 오버라이드 대신 정상 절차로 재진행

예방방법:
- 오버라이드 전 충분한 검토
- 작업 범위를 최소화
- 롤백 계획 사전 준비
```

### 3. 성능 관련 문제

#### 문제: "응답이 느려졌어요"
**증상**: v4.4 업그레이드 후 응답 시간 증가

**원인**: GuidelineEnforcer의 실시간 검증 과정

**정상 범위**: 기존 대비 3-5% 증가 (정상)

**문제가 되는 경우**:
```
비정상적 지연 해결방법:
1. "지침 확인"으로 과도한 검증 여부 확인
2. 간단한 작업은 명확히 단순하게 요청
3. 복잡한 작업은 단계별로 분할
4. 필요시 "간단히" 모드로 전환

성능 최적화:
- 명확하고 구체적인 요청
- 단계별 작업 분할
- 불필요한 복잡성 제거
```

### 4. 호환성 문제

#### 문제: "기존 명령어가 작동하지 않아요"
**증상**: v4.3에서 사용하던 명령어 오류

**확인사항**:
```
✅ 100% 호환성 보장된 명령어:
- 모든 기존 프로젝트 명령어
- Task Manager 관련 명령어  
- SSH 및 Git 관련 명령어
- 모든 Agent 전환 명령어

문제 발생 시:
1. 정확한 명령어 구문 확인
2. "도움말" 또는 "명령어 목록" 요청
3. 지침 검증으로 인한 추가 단계 확인
```

#### 문제: "프로젝트 상태가 이상해요"
**증상**: 기존 프로젝트 상태가 예상과 다름

**해결방법**:
```
1. 상태 검증: "검증" 명령어로 무결성 확인
2. 동기화: "동기화" 명령어로 강제 동기화
3. 복구: "복구" 명령어로 상태 복원
4. 재시작: 필요시 "재시작"으로 세션 초기화

예방방법:
- 정기적인 "상태" 확인
- 중요 작업 전후 "검증" 실행
```

## 🔍 고급 문제 해결

### 시스템 진단 명령어

#### 전체 시스템 상태 확인
```
명령어 순서:
1. "상태" - 기본 상태 확인
2. "지침 확인" - 지침 시스템 상태
3. "준수율" - 세션 품질 확인
4. "검증" - 시스템 무결성 검증

정상 상태 지표:
- 지침 준수율: 90% 이상
- 시스템 상태: 모든 Agent 정상
- 프로젝트 동기화: 100%
- 오류 발생: 0건
```

#### 성능 분석
```
성능 저하 진단:
1. "투명성" - 최근 처리 과정 분석
2. 복잡한 요청 패턴 확인
3. 오버라이드 사용 빈도 검토
4. 세션 길이 및 누적 요청 수 확인

최적화 방법:
- 요청을 단순하고 명확하게
- 큰 작업을 단계별로 분할
- 정기적인 세션 재시작
```

### 데이터 복구

#### 지침 준수 기록 복구
```
문제: 지침 준수 기록이 손실됨
해결: ComplianceTracker 자동 복구

명령어: "지침 확인" → 자동 재구축
백업: .session-context.json에서 복원
```

#### 프로젝트 상태 복구
```
문제: 프로젝트 상태 불일치
해결: EvidenceTracker 기반 역산

단계:
1. "증거 스캔" - 실제 완료 작업 확인
2. "강제 동기화" - Task Manager 상태 교정
3. "검증" - 최종 무결성 확인
```

## 🚨 긴급 상황 대응

### 시스템 오작동
```
증상: 지침 시스템이 정상 요청을 차단
긴급 대응:
1. "STARIAN_OVERRIDE_AUTHORIZED 시스템 오작동 복구"
2. 3단계 승인 과정 진행
3. 임시로 정상 절차 우회
4. 문제 해결 후 정상 모드 복귀

근본 해결:
- 오작동 패턴 분석
- 지침 규칙 재조정
- 시스템 업데이트 적용
```

### 데이터 손실 위험
```
증상: 중요 작업 중 시스템 오류
즉시 대응:
1. "중단" - 현재 작업 즉시 중단
2. "상태" - 손실 범위 확인
3. "복구" - 최근 체크포인트로 복원
4. "검증" - 복구 상태 확인

예방 조치:
- 중요 작업 전 "체크포인트" 생성
- 정기적인 "커밋" 실행
- 실시간 "동기화" 유지
```

## 📞 지원 요청

### 언제 지원을 요청해야 하나요?

#### 즉시 지원 필요:
- 시스템이 완전히 작동하지 않음
- 데이터 손실 발생
- 보안 관련 문제 발생
- 복구 불가능한 상태

#### 일반 지원:
- 사용법 문의
- 성능 개선 요청
- 기능 제안
- 호환성 문의

### 지원 요청 시 포함할 정보
```
📋 필수 정보:
1. 문제 발생 시점
2. 수행하려던 작업
3. 오류 메시지 (있는 경우)
4. "상태" 명령어 결과
5. "지침 확인" 결과
6. 최근 오버라이드 사용 여부

📊 진단 정보:
- 세션 길이
- 지침 준수율
- 최근 복잡한 작업 여부
- 시스템 환경 정보
```

## 💡 예방 및 최적화

### 일상적인 관리
```
매일:
- "상태" 확인으로 기본 건강상태 점검
- 복잡한 작업 시 단계별 접근

주간:
- "준수율" 분석으로 사용 패턴 검토
- 불필요한 오버라이드 사용 점검

월간:
- 전체 시스템 "검증" 실행
- 성능 트렌드 분석
- 최적화 방안 검토
```

### 베스트 프랙티스
```
✅ 권장사항:
1. 명확하고 구체적인 요청
2. 복잡한 작업의 단계별 분할
3. 시스템 제안에 대한 적극적 검토
4. 정기적인 상태 확인

❌ 피해야 할 것:
1. 무분별한 오버라이드 사용
2. 시스템 제안 무시
3. 불명확한 요청
4. 상태 확인 소홀
```

---

**🔧 문제 해결이 되지 않으면 언제든 지원을 요청하세요!**

*v4.4 트러블슈팅 가이드 - 2025년 6월 30일*
